---
title: 设计模式之美--设计模式原则
date: 2020-02-06 22:49:22
tags:
- 心法
categories: 设计模式
---

### 单一职责原则（SRP）

单一职责，全称为Single Responsibility Principle。单一职责，顾名思义，就是让一个类只负责一个职责或者功能。
那么，如何判定是否职责单一呢？不同的业务场景下，对同一类的职责是否单一可能有不同的判定结果。可以从一下几个方面来判断。

<!-- more -->

1. 类中函数或者属性过多
2. 类中依赖其他类过多，或者依赖类的其他类过多
3. 私有方法过多
4. 比较难给类起一个合适的名字
5. 类中有大量方法都是集中在类的某几个属性

### 开闭原则（OCP）

开闭原则的英文全称是 Open Closed Principle，即对拓展开放，对修改关闭
如何判定拓展还是修改？新增加一个功能，是在原有的代码基础上扩展代码，而非修改原有代码。
这条原则的设计初衷：只要它没有破坏原有的代码的正常运行，没有破坏原有的单元测试，我们就可以说，这是一个合格的代码改动。

基于接口或抽象实现“封闭”，基于实现接口或继承实现“开放”。

场景一：函数存在多个入参的时候，需要新增的入参需求。
可以将其重构为单独类。那只需要新加属性而不用改动函数入参。
场景二：对于其分支判断，另外拆分为各个hander。对抽象类进行继承重写。
