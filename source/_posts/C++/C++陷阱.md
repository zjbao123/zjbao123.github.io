---
title: C++常见陷阱
date: 2018-04-08 20:22:00
tags: 
- C++
categories: 总结
---

### 1.数据存放方式
数据存放方式与cpu有关,一般小端存放,服务器大端存放。因此，在网络
网络传输 ntoh ,hton,传输以网络序为主
文件存放,若需跨机器,则转网络序


strlen()

字符串
命名方式:指针lp打头 字串sz打头
函数内的静态变量,cpp内起效

参数给入分配空间
linux `_r`结尾函数 线程安全

临时变量 
充分条件:尽量小  <栈空间
必要条件:临时用

移位操作 负数 符号位

2.对象清零的危害 Map
存在虚函数,则会创建虚表
有特殊的成员变量(其他对象)时,不能memset清零

虚表被破坏 

推荐书:深入探索C++模型


3.cmap的使用,本质是HashMap

4.浮点数
a.分别计算整数,小数
b.二进制表达法
c.规则化移位
符号 指数部分移码 + 01111111111
精度分析


(1)数学运算 <1ns
(2)内存  100ns
(3)I/O -网络  60us(高度调优) 100us
    -文件  100ns~10ms
    -控制台  100us~1ms 


尽量避免频繁内存的申请和释放

命名规范 全局 g_
成员 m_
静态 s_
指针 lp
int  i
double df
float f

1个  by
2个  w
4个  dw
8个  ddw

sprinf() 规范

